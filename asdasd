"use strict";!function(){function t(t,e){t.state("motos",{url:"/",views:{"":{templateUrl:"template/website/motosbr.html"},"view-motos@motos":{templateUrl:"template/website/views/main.html"}}}).state("brand",{url:"marcas",parent:"motos",views:{"view-motos@motos":{templateUrl:"template/website/views/brand.html"}}}).state("cylinder",{url:"cilindrada",parent:"motos",views:{"view-motos@motos":{templateUrl:"template/website/views/cylinder.html"}}}).state("style",{url:"estilo",parent:"motos",views:{"view-motos@motos":{templateUrl:"template/website/views/style.html"}}}).state("comparation",{url:"comparativo",parent:"motos",views:{"view-motos@motos":{templateUrl:"template/website/views/comparation.html"}}}).state("admin",{url:"/admin",views:{"view-admin@admin":{templateUrl:"template/admin/dashboard/dashboard.html"}}}).state("dashboard",{parent:"admin",views:{"view-admin@admin":{templateUrl:"template/admin/dashboard/dashboard.html"}}}).state("motorcycle",{parent:"admin",views:{"view-admin@admin":{templateUrl:"template/admin/motorcycle/tabs.html"}}}).state("auth",{url:"/auth",templateUrl:"template/admin/auth/auth.html"}),e.otherwise("/")}function e(t,e,a,o,i){function l(){var t=i.getUser(),l="auth",s="admin",m=a.location.href.includes(s),n=a.location.href.includes(l);!t&&m&&(console.log("!user e isAdmin, comeback to authPage"),$location.path(l)),t&&o.is("auth")?(console.log("To em AUTHPAGE"),$location.path(s)):t&&n?(console.log("OIIIIIi"),console.log(t.isValid),$location.path(s)):t&&!t.isValid&&i.validateToken(t.token,function(a,o){o?(t.isValid=!0,e.defaults.headers.common.Authorization=t.token,n&&(console.log(n+" "+t.token),$location.path(s))):(console.log("Error response, comeback to authPage"),$location.path(s))})}return l(),t.$on("$locationChangeStart",function(){return l()}),{validateUser:l}}angular.module("motos-app").config(t).run(e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["$rootScope","$http","$location","$window","$state","auth"]}();
